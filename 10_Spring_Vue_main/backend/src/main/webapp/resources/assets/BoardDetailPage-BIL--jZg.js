import{_ as w,f as _,i as C,r as D,c as l,b as t,t as n,d as o,s as f,F as c,p as x,h as B,u as L,o as r}from"./index-BnsRyoc5.js";import{b}from"./boardApi-Y3Poa68g.js";import{h as Y}from"./moment-C5S46NFB.js";const A=async m=>{try{const s=document.createElement("a");s.href=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(s){console.error("파일 다운로드 실패:",s)}},E={class:"my-3 d-flex justify-content-between"},F={class:"text-end"},N=["onClick"],R={class:"content"},V={class:"my-5"},H={__name:"BoardDetailPage",setup(m){const s=_(),v=C(),i=L();computed(()=>s.isLogin);const u=v.params.no,e=D({}),y=()=>{i.push({name:"board/list"})},k=()=>{i.push({name:"board/update",params:{no:u}})},g=async()=>{confirm("삭제할까요?")&&(await b.delete(u),i.push({name:"board/list"}))},h=async p=>{const a="/api/board/download/"+p;await A(a)};return(async()=>{e.value=await b.get(u),console.log("DETAIL",e.value)})(),(p,a)=>(r(),l(c,null,[t("h1",null,n(e.value.title),1),t("div",E,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(e.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(f(Y)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",F,[(r(!0),l(c,null,x(e.value.attaches,d=>(r(),l("div",{key:d.no,class:"attach"},[t("span",{onClick:M=>h(d.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(d.filename),1)],8,N)]))),128))]),t("div",R,n(e.value.content),1),t("div",V,[t("button",{class:"btn btn-primary me-2",onClick:y},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),f(s).username==e.value.writer?(r(),l(c,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),t("button",{class:"btn btn-danger",onClick:g},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):B("",!0)])],64))}},j=w(H,[["__scopeId","data-v-8c8aae34"]]);export{j as default};
