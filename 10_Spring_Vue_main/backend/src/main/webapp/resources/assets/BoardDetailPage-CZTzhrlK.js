import{_ as w,f as _,i as q,r as C,c as r,b as t,t as n,d as o,s as b,F as m,q as D,h as x,u as B,o as u}from"./index-CiV7BKn6.js";import{b as y}from"./boardApi-x_7zEsPo.js";import{h as L}from"./moment-C5S46NFB.js";const Y=async p=>{try{const e=document.createElement("a");e.href=p,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){console.error("파일 다운로드 실패:",e)}},A={class:"my-3 d-flex justify-content-between"},E={class:"text-end"},F=["onClick"],N={class:"content"},R={class:"my-5"},V={__name:"BoardDetailPage",setup(p){const e=_(),l=q(),i=B();computed(()=>e.isLogin);const d=l.params.no,s=C({}),v=()=>{i.push({name:"board/list",query:l.query})},k=()=>{i.push({name:"board/update",params:{no:d},query:l.query})},g=async()=>{confirm("삭제할까요?")&&(await y.delete(d),i.push({name:"board/list",query:l.query}))},h=async f=>{const a="/api/board/download/"+f;await Y(a)};return(async()=>{s.value=await y.get(d),console.log("DETAIL",s.value)})(),(f,a)=>(u(),r(m,null,[t("h1",null,n(s.value.title),1),t("div",A,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(s.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(b(L)(s.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",E,[(u(!0),r(m,null,D(s.value.attaches,c=>(u(),r("div",{key:c.no,class:"attach"},[t("span",{onClick:I=>h(c.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(c.filename),1)],8,F)]))),128))]),t("div",N,n(s.value.content),1),t("div",R,[t("button",{class:"btn btn-primary me-2",onClick:v},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),b(e).username==s.value.writer?(u(),r(m,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),t("button",{class:"btn btn-danger",onClick:g},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):x("",!0)])],64))}},T=w(V,[["__scopeId","data-v-44b1ed99"]]);export{T as default};
